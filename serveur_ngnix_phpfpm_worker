#editer ce fichier default.conf (ajouter index.php)

/etc/nginx/conf.d# nano default.conf 

server {
    listen       80;
    server_name  localhost;

    #charset koi8-r;
    #access_log  /var/log/nginx/host.access.log  main;

    location / {
        root   /usr/share/nginx/html;
        index  index.php index.html index.htm;
    }
    
#edier le fichier php
  GNU nano 2.7.4                                        File: /usr/share/nginx/html/index.php                                                  

<?php 
echo phpinfo();

#En allant sur localhost index.php le navigateur télécharge le fichier php il ne l'interpretre pas il faut installer php-fpm
#ici il a déjà été installé
apt-get install php-fpm
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following NEW packages will be installed:
  php-fpm
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 5102 B of archives.
After this operation, 12.3 kB of additional disk space will be used.
Get:1 http://deb.debian.org/debian stretch/main amd64 php-fpm all 1:7.0+49 [5102 B]
Fetched 5102 B in 0s (52.3 kB/s)
perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
	LANGUAGE = (unset),
	LC_ALL = (unset),
	LANG = "fr_FR.UTF-8"
    are supported and installed on your system.
perl: warning: Falling back to the standard locale ("C").
locale: Cannot set LC_CTYPE to default locale: No such file or directory
locale: Cannot set LC_MESSAGES to default locale: No such file or directory
locale: Cannot set LC_ALL to default locale: No such file or directory
Selecting previously unselected package php-fpm.
(Reading database ... 23828 files and directories currently installed.)
Preparing to unpack .../php-fpm_1%3a7.0+49_all.deb ...
Unpacking php-fpm (1:7.0+49) ...
Setting up php-fpm (1:7.0+49) ...

#démarer php-fpm
systemctl start php7.0-fpm.service

systemctl status php7.0-fpm.service
● php7.0-fpm.service - The PHP 7.0 FastCGI Process Manager
   Loaded: loaded (/lib/systemd/system/php7.0-fpm.service; enabled; vendor preset: enabled)
   Active: active (running) since Fri 2017-12-08 13:26:58 CET; 2h 59min ago
     Docs: man:php-fpm7.0(8)
 Main PID: 812 (php-fpm7.0)
   Status: "Processes active: 0, idle: 2, Requests: 0, slow: 0, Traffic: 0req/sec"
    Tasks: 3 (limit: 4915)
   CGroup: /system.slice/php7.0-fpm.service
           ├─812 php-fpm: master process (/etc/php/7.0/fpm/php-fpm.conf)
           ├─828 php-fpm: pool www
           └─829 php-fpm: pool www

Dec 08 13:26:58 vps470685 systemd[1]: Starting The PHP 7.0 FastCGI Process Manager...
Dec 08 13:26:58 vps470685 systemd[1]: Started The PHP 7.0 FastCGI Process Manager.
  GNU nano 2.7.4                                                 File: default.conf                                                            

server {
    listen       80;
    server_name  localhost;

    #charset koi8-r;
    #access_log  /var/log/nginx/host.access.log  main;

    location / {
        root   /usr/share/nginx/html;
        index  index.php index.html index.htm;
    }

    location ~ \.php${
        try_files $uri /index.php =404;
        fastcgi_pass unix:/var/run/php7-fpm.sock;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }

#editer le fichier conf

